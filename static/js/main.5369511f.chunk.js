(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(22)},16:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),o=(n(16),n(1)),u=n.n(o),i=n(2),l=n(3),d=n(4),p=n(6),f=n(5),m=n(7),h=(n(20),function(){var e=Object(i.a)(u.a.mark(function e(t,n){var a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.application_id="aaa6c3a09846d5577e6377e3e6fa3676",a=Object.keys(n).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(n[e]))}).join("&"),e.next=4,fetch("".concat(t,"?").concat(a));case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),k=function(){var e=Object(i.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("https://api.worldoftanks.com/wot/encyclopedia/vehicles/",t);case 2:return n=(n=e.sent).data,Object.keys(n).forEach(function(e){n[e].module_ids=Object.keys(n[e].modules_tree)}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={fields:"modules_tree,name,nation,tank_id"},e.abrupt("return",k(t));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={fields:"modules_tree,name,nation,tank_id,tier",tank_id:t.join()},e.abrupt("return",k(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={fields:"module_id,name,tanks",module_id:t.join()},e.next=3,h("https://api.worldoftanks.com/wot/encyclopedia/modules/",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={tanks:{},selectedTankId:"select",related_tanks:{}},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,this.setState({tanks:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=e.target.value;this.setState({selectedTankId:t}),this.props.onSelectTank(this.state.tanks[t])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectTank"},"Tanks:"),r.a.createElement("select",{value:this.state.selectedTankId,onChange:this.onChange.bind(this),className:"form-control"},Object.keys(this.state.tanks).map(function(t,n){var a=e.state.tanks[t];return r.a.createElement("option",{value:a.tank_id,key:n},a.name)})))}}]),t}(r.a.Component),O=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={tanks:e.tanks},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Related Tanks:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Tier"))),r.a.createElement("tbody",null,Object.keys(this.state.tanks).map(function(t,n){var a=e.state.tanks[t];return r.a.createElement("tr",{key:n},r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.tier))}))))}}]),t}(r.a.Component);O.getDerivedStateFromProps=function(e){return e};var y=O,E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).select_tank=function(){var e=Object(i.a)(u.a.mark(function e(t){var a,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({selectedTank:t}),e.next=3,j(t.module_ids);case 3:return a=e.sent,r=(r=Object.keys(a).map(function(e){return a[e].tanks}).flat()).filter(function(e,t){return r.indexOf(e)===t}),console.log(r),e.next=9,b(r);case 9:c=e.sent,n.setState({relatedTanks:c});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.state={relatedTanks:{},selectedTank:null,tanks:{}},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(w,{onSelectTank:this.select_tank}),r.a.createElement(y,{tanks:this.state.relatedTanks})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.5369511f.chunk.js.map